# 股票行情小工具

一个基于 Electron 的股票行情显示工具，支持 A 股和港股，具有悬浮窗和系统托盘功能。

## 功能特性

- 📊 实时股票行情显示（东方财富API）
- 🪟 悬浮窗显示（支持自定义位置和大小）
- 🎯 系统托盘显示
- 📱 主界面股票管理
- 🇭🇰 支持港股（3位小数价格）
- 🔄 自动数据刷新
- 💾 配置持久化

## 配置文件说明

### 1. 股票代码配置 (`stock-codes.json`)

控制要显示的股票代码列表：

```json
{
  "stockCodes": ["000001", "600000", "000858", "00001", "00700"],
  "lastUpdated": "2024-01-01T00:00:00.000Z"
}
```

**支持的股票代码格式：**
- `000001` - 深市股票
- `600000` - 沪市股票  
- `300001` - 创业板股票
- `00001` - 港股（5位数字）

### 2. 股票名称拼音缩写配置 (`stock-names-config.json`)

**重要：这是用户可以自定义的配置文件！**

控制悬浮窗中显示的股票名称缩写，比如"中芯国际"显示为"ZXGJ"。

#### 配置文件结构

```json
{
  "stockNames": {
    "平安银行": "PAYH",
    "中芯国际": "ZXGJ",
    "华虹半导体": "HHBDT",
    "腾讯控股": "TXKG",
    "比亚迪": "BYD"
  },
  "configInfo": {
    "description": "股票名称拼音缩写配置文件",
    "version": "1.0",
    "usage": "修改此文件中的股票名称映射，重启应用即可生效"
  }
}
```

#### 如何自定义股票名称缩写

1. **编辑配置文件**：打开 `stock-names-config.json` 文件
2. **添加新映射**：在 `stockNames` 对象中添加新的股票名称和缩写
3. **保存文件**：保存后重启应用即可生效

#### 命名规则建议

- **拼音首字母**：平安银行 → PAYH (Ping An Yin Hang)
- **英文缩写**：比亚迪 → BYD
- **自定义缩写**：中芯国际 → ZXGJ (Zhong Xin Guo Ji)
- **自动回退**：如果没有配置拼音缩写，自动显示股票代码后3位

#### 示例配置

```json
{
  "stockNames": {
    "平安银行": "PAYH",
    "浦发银行": "PFYH", 
    "五粮液": "WLY",
    "万科A": "WKA",
    "招商银行": "ZSYH",
    "贵州茅台": "GZMT",
    "中芯国际": "ZXGJ",
    "华虹半导体": "HHBDT",
    "腾讯控股": "TXKG",
    "阿里巴巴": "ALBB",
    "比亚迪": "BYD",
    "理想汽车": "LXQC",
    "蔚来": "WL",
    "小鹏汽车": "XPQC",
    "宁德时代": "NDSD",
    "隆基绿能": "LJLN"
  }
}
```

## 使用方法

### 启动应用

```bash
npm start
```

### 开发模式

```bash
npm run dev
```

### 自定义配置

1. **修改股票列表**：编辑 `stock-codes.json`
2. **自定义名称缩写**：编辑 `stock-names-config.json`
3. **重启应用**：配置修改后需要重启应用

## 悬浮窗显示格式

悬浮窗会显示以下信息：

- **股票代码**：A股后3位，港股后4位
- **名称缩写**：根据配置文件显示（如 ZXGJ）
- **当前价格**：A股2位小数，港股3位小数
- **涨跌信息**：涨跌额和百分比

**显示示例：**
- A股：`001` `PAYH` ¥12.08 ↗0.12 (+0.98%)
- 港股：`0001` `HHBDT` ¥57.300 ↗0.085 (+1.92%)
- 无配置：`001` `001` ¥12.08 ↗0.12 (+0.98%) （显示代码后3位）

## 注意事项

1. **配置文件格式**：必须使用UTF-8编码保存
2. **重启生效**：修改配置文件后需要重启应用
3. **默认值**：如果配置文件不存在，会使用内置的默认映射
4. **错误处理**：配置文件格式错误时，会回退到默认配置

## 技术架构

- **主进程**：Electron main process，处理数据获取和窗口管理
- **渲染进程**：HTML/CSS/JavaScript，处理UI显示
- **IPC通信**：主进程和渲染进程之间的数据传递
- **文件系统**：JSON配置文件持久化
- **网络请求**：东方财富API数据获取

## 故障排除

### 悬浮窗不显示
- 检查主窗口是否最小化
- 查看控制台错误信息
- 尝试重启应用

### 股票名称显示异常
- 检查 `stock-names-config.json` 文件格式
- 确认股票名称完全匹配
- 查看控制台加载日志

### 数据不更新
- 检查网络连接
- 查看东方财富API状态
- 尝试手动刷新数据
