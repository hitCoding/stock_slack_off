# 定时器配置说明

## 概述
股票行情小工具现在支持从配置文件读取定时器周期配置，包括股票显示轮播间隔和数据刷新间隔。

## 配置文件位置
`stock-codes.json`

## 配置格式
```json
{
  "stockCodes": [
    "300059",
    "00981"
  ],
  "lastUpdated": "2025-08-17T09:16:31.678Z",
  "timers": {
    "stockDisplayInterval": 3000,
    "dataRefreshInterval": 30000
  }
}
```

## 配置项说明

### stockDisplayInterval
- **功能**: 控制股票在托盘和悬浮窗口中轮播显示的间隔时间
- **单位**: 毫秒 (ms)
- **默认值**: 3000 (3秒)
- **建议范围**: 1000-10000 (1-10秒)
- **说明**: 数值越小，股票切换越频繁；数值越大，用户有更多时间查看单个股票信息

### dataRefreshInterval
- **功能**: 控制从东方财富API获取实时股票数据的间隔时间
- **单位**: 毫秒 (ms)
- **默认值**: 30000 (30秒)
- **建议范围**: 10000-60000 (10秒-1分钟)
- **说明**: 数值越小，数据更新越及时，但会增加网络请求频率；数值越大，减少网络请求，但数据可能不够实时

## 配置示例

### 快速更新配置（适合短线交易）
```json
{
  "timers": {
    "stockDisplayInterval": 2000,
    "dataRefreshInterval": 15000
  }
}
```

### 标准配置（推荐）
```json
{
  "timers": {
    "stockDisplayInterval": 3000,
    "dataRefreshInterval": 30000
  }
}
```

### 省电配置（适合长期持有）
```json
{
  "timers": {
    "stockDisplayInterval": 5000,
    "dataRefreshInterval": 60000
  }
}
```

## 注意事项

1. **网络请求频率**: `dataRefreshInterval` 不建议设置过小，避免对东方财富API造成过大压力
2. **用户体验**: `stockDisplayInterval` 不建议设置过大，避免用户等待时间过长
3. **配置生效**: 修改配置文件后需要重启应用才能生效
4. **单位换算**: 
   - 1秒 = 1000毫秒
   - 1分钟 = 60000毫秒
   - 30秒 = 30000毫秒

## 动态配置
应用运行时可以通过IPC接口动态更新定时器配置，无需重启应用。配置会自动保存到文件中。

## 故障排除

### 配置无效
- 检查JSON格式是否正确
- 确认数值类型为数字（不要加引号）
- 重启应用

### 定时器不工作
- 检查控制台日志，确认配置已正确加载
- 确认数值在合理范围内（>0）
- 检查是否有JavaScript错误

### 性能问题
- 如果感觉应用卡顿，可以适当增加 `stockDisplayInterval`
- 如果网络请求过多，可以适当增加 `dataRefreshInterval`
