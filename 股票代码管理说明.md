# 📊 股票代码管理功能说明

## 🎯 功能概述

股票代码管理功能允许用户动态添加、编辑和删除需要监控的股票代码，实现个性化的股票监控列表。

## ✨ 主要特性

### 🔧 添加股票代码
- **实时输入验证**：支持深市、沪市、创业板、科创板格式
- **重复检查**：自动检测重复代码，避免重复添加
- **格式验证**：确保股票代码符合标准格式

### ✏️ 编辑股票代码
- **内联编辑**：直接在列表中编辑，无需弹窗
- **键盘支持**：回车保存，ESC取消编辑
- **实时验证**：编辑过程中实时验证格式

### 🗑️ 删除股票代码
- **确认提示**：删除前显示确认对话框
- **安全删除**：防止误删重要股票代码

### 💾 设置保存
- **自动保存**：设置修改后自动保存到本地
- **实时更新**：保存后立即更新股票数据
- **数据同步**：主进程和渲染进程数据同步

## 🎨 界面说明

### 设置面板
```
┌─────────────────────────────────────┐
│ 设置                               │
├─────────────────────────────────────┤
│ 股票代码管理:                       │
│ ┌─────────────────────────────────┐ │
│ │ [000001] 平安银行 [编辑][删除] │ │
│ │ [600000] 浦发银行 [编辑][删除] │ │
│ │ [000858] 五粮液   [编辑][删除] │ │
│ └─────────────────────────────────┘ │
│                                     │
│ ┌─────────────────────────────────┐ │
│ │ [输入股票代码] [+ 添加]        │ │
│ └─────────────────────────────────┘ │
│                                     │
│ 支持格式: 000001(深市), 600000(沪市)│
│          300001(创业板), 688001(科创板)│
├─────────────────────────────────────┤
│ 数据刷新间隔 (秒): [30]            │
│ 任务栏轮播间隔 (秒): [5]           │
├─────────────────────────────────────┤
│ [保存设置] [取消]                  │
└─────────────────────────────────────┘
```

### 操作按钮
- **添加按钮** (+)：绿色按钮，添加新股票代码
- **编辑按钮** (✏️)：黄色按钮，编辑现有代码
- **删除按钮** (🗑️)：红色按钮，删除股票代码
- **保存按钮** (✓)：绿色按钮，保存编辑内容
- **取消按钮** (✗)：灰色按钮，取消编辑操作

## 🔧 使用方法

### 1. 添加股票代码
1. 点击设置按钮（齿轮图标）打开设置面板
2. 在"输入股票代码"框中输入6位数字代码
3. 点击"+"按钮或按回车键添加
4. 系统自动验证格式并添加到列表

### 2. 编辑股票代码
1. 在股票代码列表中点击"编辑"按钮
2. 输入框变为可编辑状态
3. 修改股票代码
4. 点击"✓"保存或按回车键
5. 点击"✗"取消或按ESC键

### 3. 删除股票代码
1. 在股票代码列表中点击"删除"按钮
2. 确认删除对话框
3. 点击"确定"完成删除

### 4. 保存设置
1. 完成所有修改后
2. 点击"保存设置"按钮
3. 系统自动保存并更新股票数据

## 📋 支持的股票代码格式

### 深市主板
- **格式**：000001 - 000999
- **示例**：000001（平安银行）、000002（万科A）

### 沪市主板
- **格式**：600000 - 603999
- **示例**：600000（浦发银行）、600036（招商银行）

### 创业板
- **格式**：300001 - 300999
- **示例**：300001（特锐德）、300002（神州泰岳）

### 科创板
- **格式**：688001 - 688999
- **示例**：688001（华兴源创）、688002（睿创微纳）

## ⚠️ 注意事项

### 输入限制
- 股票代码必须是6位数字
- 不支持字母或特殊字符
- 最大长度限制为6位

### 验证规则
- 必须以0、3、6开头
- 后5位必须是数字
- 不能重复添加相同代码

### 数据同步
- 设置保存后立即生效
- 主进程自动获取新股票数据
- 悬浮窗口和托盘显示同步更新

## 🐛 常见问题

### Q: 为什么无法添加股票代码？
A: 请检查：
1. 股票代码格式是否正确（6位数字）
2. 是否已存在相同代码
3. 网络连接是否正常

### Q: 编辑时如何取消操作？
A: 可以：
1. 点击"取消"按钮
2. 按ESC键
3. 点击其他区域

### Q: 删除股票代码后如何恢复？
A: 删除后无法直接恢复，需要重新添加

### Q: 设置保存失败怎么办？
A: 请检查：
1. 是否至少保留一个股票代码
2. 刷新间隔是否在5-300秒范围内
3. 轮播间隔是否在2-60秒范围内

## 💡 使用技巧

### 批量管理
1. 先添加所有需要的股票代码
2. 一次性保存设置
3. 避免频繁修改和保存

### 代码验证
1. 使用标准6位数字格式
2. 参考股票软件或网站确认代码
3. 注意深市、沪市、创业板、科创板的区别

### 设置优化
1. 根据网络情况调整刷新间隔
2. 根据使用习惯调整轮播间隔
3. 定期清理不需要的股票代码

## 🔄 数据流程

```
用户操作 → 界面验证 → 数据更新 → 设置保存 → 主进程同步 → 数据刷新
    ↓
股票列表更新 → 悬浮窗口更新 → 托盘显示更新
```

## 📊 功能状态

- ✅ **添加功能**：完全支持
- ✅ **编辑功能**：完全支持  
- ✅ **删除功能**：完全支持
- ✅ **格式验证**：完全支持
- ✅ **重复检查**：完全支持
- ✅ **设置保存**：完全支持
- ✅ **数据同步**：完全支持
- ✅ **实时更新**：完全支持

## 🎉 总结

股票代码管理功能提供了完整的股票监控列表管理能力，用户可以：
- 灵活添加感兴趣的股票
- 随时调整监控列表
- 个性化配置监控参数
- 实时同步数据更新

这个功能让股票小工具更加实用和个性化，满足不同用户的投资需求。
