# 股票代码配置文件说明

## 📁 文件位置
- 配置文件：`stock-codes.json`
- 位置：应用根目录（与 `main.js` 同级）

## 🔧 功能说明

### 自动保存
- 在设置面板中添加/删除股票代码后，会自动保存到配置文件
- 保存时会记录最后更新时间
- 无需手动操作，完全自动化

### 自动加载
- 应用启动时会自动读取配置文件
- 如果配置文件不存在，会创建默认配置文件
- 如果读取失败，会使用默认股票代码

## 📋 配置文件格式

```json
{
  "stockCodes": [
    "000001",
    "600000", 
    "000858"
  ],
  "lastUpdated": "2024-01-01T00:00:00.000Z",
  "description": "股票代码配置文件，应用启动时会自动读取此文件"
}
```

### 字段说明
- `stockCodes`: 股票代码数组，支持深市（0开头）、沪市（6开头）、创业板（3开头）
- `lastUpdated`: 最后更新时间（ISO格式）
- `description`: 配置文件说明

## 🚀 使用方法

### 方法1: 通过应用界面
1. 点击齿轮图标打开设置面板
2. 在输入框中输入股票代码，按回车添加
3. 点击股票前面的减号按钮删除
4. 所有操作会自动保存到文件

### 方法2: 直接编辑配置文件
1. 用文本编辑器打开 `stock-codes.json`
2. 修改 `stockCodes` 数组
3. 保存文件
4. 重启应用，新配置会自动生效

## 📝 支持的股票代码格式

- **深市主板**: `000001`, `000002`, `000858` 等
- **沪市主板**: `600000`, `600036`, `600519` 等  
- **创业板**: `300001`, `300002`, `300059` 等

## ⚠️ 注意事项

1. **文件编码**: 请使用 UTF-8 编码保存文件
2. **JSON格式**: 确保JSON格式正确，否则可能导致读取失败
3. **股票代码**: 必须是6位数字，以0、3、6开头
4. **备份建议**: 修改配置文件前建议先备份

## 🔍 故障排除

### 配置文件读取失败
- 检查文件是否存在
- 检查JSON格式是否正确
- 检查文件权限

### 股票代码不生效
- 确认股票代码格式正确
- 重启应用让配置生效
- 检查控制台错误信息

## 📊 示例配置

### 添加更多股票代码
```json
{
  "stockCodes": [
    "000001",
    "600000",
    "000858",
    "600519",
    "000002",
    "300001"
  ],
  "lastUpdated": "2024-01-01T00:00:00.000Z"
}
```

### 只保留特定股票
```json
{
  "stockCodes": [
    "600519",
    "000002"
  ],
  "lastUpdated": "2024-01-01T00:00:00.000Z"
}
```

## 🎯 优势

1. **持久化存储**: 重启应用后配置不会丢失
2. **自动同步**: 界面操作和文件存储完全同步
3. **手动编辑**: 支持直接编辑配置文件批量修改
4. **容错处理**: 读取失败时自动使用默认配置
5. **时间记录**: 记录最后更新时间便于管理

现在您的股票代码配置已经完全持久化了！🎉
